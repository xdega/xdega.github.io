{"componentChunkName":"component---src-templates-blog-post-js","path":"/lets-start-testing/","result":{"data":{"site":{"siteMetadata":{"title":"Liam Hockley"}},"markdownRemark":{"id":"87be194b-cf93-58df-a3ad-c9b6a53ed215","excerpt":"The Setup To start with, I would like to applaud Gatsby for their excellent\ndocumentation on Unit Testing. It is one thing to include step-by-step that worksâ€¦","html":"<h2>The Setup</h2>\n<p>To start with, I would like to applaud Gatsby for their excellent\n<a href=\"https://www.gatsbyjs.com/docs/how-to/testing/unit-testing/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">documentation</a> on Unit Testing. It is one thing to include step-by-step that works flawlessly, but it is even more helpful when the documentation outlines the <em>why</em>.</p>\n<p>My setup for unit testing here follows all the recommendations found in the documentation above, as I am a huge proponent of adhering to community standards when they are available. We can probably delve more into that topic in a future post.</p>\n<h2>The Test</h2>\n<p>I modified my first test based on the example in the Gatsby documentation. The documentation outlines how to test a Header component, but I have no such component (more on that in a minute).</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> renderer <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-test-renderer\"</span>\n<span class=\"token keyword\">import</span> Bio <span class=\"token keyword\">from</span> <span class=\"token string\">\"../bio\"</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Bio\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders correctly\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> tree <span class=\"token operator\">=</span> renderer\n      <span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Bio <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">toJSON</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toMatchSnapshot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>This test simply renders my Bio component, creates a snapshot of it, and then all future tests will ensure that this snapshot will be how the component renders. This initial Regression Test is valuable, as it will ensure that the static side effects of this component will render as expected in the future.</p>\n<p>This test could be modified to only look at the text content, which would make it less brittle. Currently, the snapshot contains the entire DOM structure, along with CSS class. I am not comfortable with this because it is likely I will make adjustments and tweaks to my Tailwind CSS classes in the future.</p>\n<p>For now, simply introducing this test has helped illuminate some issues with my code structure.</p>\n<h2>Future Implications</h2>\n<p>It is immediately clear to me after implementing this first test, that my layout is not atomic enough. I have a total of 3 components, one of which is a single component amalgamation of my layout.</p>\n<p>As I build out this test suite, I should at least factor my layout into encapsulated Head, Footer, and Nav components.</p>","frontmatter":{"title":"Let's Start Testing","date":"21 June, 2021","description":"Upon setting up this new Blog, one of my goals in moving the codebase to a JS-based platform (Gatsby), was to begin delving into unit testing with Jest. Let's consider how one initial test can help illuminate key code organization changes for my consideration moving forward."}},"previous":{"fields":{"slug":"/a-new-start-again/"},"frontmatter":{"title":"A New Start... Again"}},"next":{"fields":{"slug":"/tests-one-week-later/"},"frontmatter":{"title":"Tests: One Week Later"}}},"pageContext":{"id":"87be194b-cf93-58df-a3ad-c9b6a53ed215","previousPostId":"60a547e5-0e38-5b7a-8d88-8a657693e829","nextPostId":"ce0d55fe-41c0-581d-a372-af32cac80aef"}},"staticQueryHashes":["3000541721","3859007307"]}